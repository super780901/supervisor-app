<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervisor v.1 - APF</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .embossed { box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.5); }
        .embossed-btn { box-shadow: 0 2px 4px 0 rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.5); transition: all 0.1s; }
        .embossed-btn:active { transform: translateY(1px); }
        textarea { resize: none; }
    </style>
</head>
<body class="bg-blue-50 min-h-screen">

    <div class="flex flex-col min-h-screen">
        <header class="bg-blue-700 h-10 w-full flex items-center justify-between px-4 text-white shadow-lg">
            <a href="{{ url_for('submenu_registro') }}" class="text-sm font-semibold hover:text-blue-200">Regresar</a>
            <div class="flex items-center space-x-4">
                <span class="text-sm font-bold">Bienvenido, {{ user_name }}</span>
                <a href="{{ url_for('login') }}" class="text-sm font-semibold hover:text-blue-200">Salir</a>
            </div>
        </header>

        <main class="flex-grow p-4 flex flex-col items-center">
            <div class="w-full max-w-6xl space-y-4">
                <div class="embossed bg-white p-4 rounded-lg shadow-xl border border-gray-200 text-center">
                    <h1 class="text-2xl font-extrabold text-gray-800">Registro: Asociaci칩n de Padres de Familia (APF)</h1>
                </div>

                <div class="embossed bg-white p-6 rounded-lg shadow-xl border border-gray-200">
                    <form action="{{ url_for('guardar_apf') }}" method="POST" target="_blank">
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Escuela:</label>
                                <select name="escuela_id" class="w-full px-4 py-2 border border-gray-300 rounded shadow-inner" required>
                                    <option value="">-- Seleccionar --</option>
                                    {% for escuela in escuelas %}
                                        <option value="{{ escuela.id }}">{{ escuela.nombre }} ({{ escuela.cct }})</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Fecha:</label>
                                <input type="date" name="fecha_revision" class="w-full px-4 py-2 border border-gray-300 rounded shadow-inner" required>
                            </div>
                        </div>

                        <div class="mb-6 overflow-x-auto">
                            <table class="min-w-full border border-gray-300 text-sm">
                                <thead>
                                    <tr class="bg-blue-100 text-blue-900">
                                        <th class="border px-4 py-2 w-1/12">No.</th>
                                        <th class="border px-4 py-2 w-5/12 text-left">Indicador</th>
                                        <th class="border px-4 py-2 w-1/12 text-center">S칈</th>
                                        <th class="border px-4 py-2 w-1/12 text-center">NO</th>
                                        <th class="border px-4 py-2 w-4/12 text-left">Observaciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% set indicadores = [
                                        "쮼st치 constituida el Acta de la APF del ciclo escolar vigente?",
                                        "쯃a Mesa Directiva cuenta con registro ante la autoridad educativa?",
                                        "쮼xiste un Plan de Trabajo anual de la APF?",
                                        "쯉e realizan asambleas ordinarias informativas con los padres?",
                                        "쯃levan libro de actas y acuerdos actualizado?",
                                        "쮼xiste transparencia y cortes de caja sobre aportaciones?",
                                        "쯃a APF apoya en el mantenimiento y limpieza del plantel?",
                                        "쯇articipan en los Consejos de Participaci칩n Escolar?",
                                        "쮼xiste un clima de colaboraci칩n entre APF y Direcci칩n?",
                                        "쯉e respetan los reglamentos (no condicionamiento de servicios)?"
                                    ] %}
                                    {% for i in range(1, 11) %}
                                    <tr class="hover:bg-gray-50">
                                        <td class="border px-4 py-2 font-bold align-top">2.{{ i }}</td>
                                        <td class="border px-4 py-2 text-xs">{{ indicadores[i-1] }}</td>
                                        <td class="border px-4 py-2 text-center align-top"><input type="radio" name="ind_2_{{i}}" value="SI"></td>
                                        <td class="border px-4 py-2 text-center align-top"><input type="radio" name="ind_2_{{i}}" value="NO"></td>
                                        <td class="border px-4 py-2 align-top"><input type="text" name="obs_2_{{i}}" class="w-full border-gray-300 rounded px-2 py-1 border"></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>

                        <div class="space-y-6 mb-8 flex flex-col items-center w-full">
                            
                            <div class="w-full md:w-3/4">
                                <label class="block font-bold text-gray-700 mb-1">MANEJO DE RECURSOS Y RENDICI칍N DE CUENTAS:</label>
                                <textarea name="manejo_recursos" rows="4" class="w-full border border-gray-300 rounded px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500"></textarea>
                            </div>

                            <div class="w-full md:w-3/4">
                                <label class="block font-bold text-gray-700 mb-1">PARTICIPACI칍N SOCIAL Y FAENAS:</label>
                                <textarea name="participacion_social" rows="4" class="w-full border border-gray-300 rounded px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500"></textarea>
                            </div>

                            <div class="w-full md:w-3/4">
                                <label class="block font-bold text-gray-700 mb-1">ACUERDOS Y COMPROMISOS:</label>
                                <textarea name="acuerdos_apf" rows="4" class="w-full border border-gray-300 rounded px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500"></textarea>
                            </div>

                        </div>

                        <div class="flex justify-center space-x-4">
                            <a href="{{ url_for('submenu_registro') }}" class="embossed-btn bg-gray-500 text-white font-bold py-2 px-6 rounded">Regresar</a>
                            <button type="submit" class="embossed-btn bg-blue-600 text-white font-bold py-2 px-6 rounded flex items-center">
                                游 Guardar y Generar PDF
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>
</body>
</html>